// ðŸ”¥ TanStack Query

// ì„œë²„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
// ìºì‹±, ë™ê¸°í™”, ë¬´íš¨í™”(loading/ error/ ì´ëŸ°ê±°)
// ê°„íŽ¸í•˜ê²Œ ìž‘ì„±í•˜ê³  ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ìž„

// ì£¼ìš” ê¸°ëŠ¥ :
// ë°ì´í„° ìºì‹±, ìžë™ ë¦¬íŽ˜ì¹­, ì¿¼ë¦¬ ë¬´íš¨í™”
// - ë°ì´í„° ìºì‹±: ë™ì¼í•œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë²ˆ ìš”ì²­í•˜ì§€ ì•Šë„ë¡ ìºì‹±(ë©”ëª¨ë¦¬ ì €ìž¥ í´ë¼ì´ì–¸íŠ¸ì— ì¤Œ. í•œë²ˆë§Œ)í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒ
// - ìžë™ ë¦¬íŽ˜ì¹­: ë°ì´í„°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìžë™ìœ¼ë¡œ ë¦¬íŽ˜ì¹­í•˜ì—¬ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€
// - ì¿¼ë¦¬ ë¬´íš¨í™”: íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”í•˜ê³  ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆìŒ

// - useQuery : ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸°(ì¿¼ë¦¬ í‚¤ì™€ ë¹„ë™ê¸° í•¨ìˆ˜(íŒ¨ì¹­ í•¨ìˆ˜))
// - useMutation : ë°ì´í„°ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œí•˜ëŠ” ë“±ì˜ ìž‘ì—…ì— ì‚¬ìš©ë˜ëŠ” í›…([ë¹„ë™ê¸° ìž‘ì—…]ì„ ì‰½ê²Œ ì²˜ë¦¬í•œë‹¤ëŠ” ë§ ì•ˆì—ëŠ” [ìž‘ì—…ì´ ì™„ë£Œëœ í›„ì— ê´€ë ¨ëœ ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”]í•˜ëŠ” ê³¼ì •ì´ í¬í•¨)
// - invalidateQueries : íŠ¹ì • ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”í•˜ì—¬ ë°ì´í„°ë¥¼ ë‹¤ì‹œ íŒ¨ì¹­í•˜ê²Œ í•˜ëŠ” í•¨ìˆ˜, ë°ì´í„°ê°€ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€, ìƒˆë¡œìš´ í•  ì¼ì„ ì¶”ê°€í•œ í›„ ê¸°ì¡´ì˜ í•  ì¼ ëª©ë¡ì„ ë‹¤ì‹œ ê°€ì ¸ì˜¤ë„ë¡

// - ì„œë²„ ìƒíƒœ(ì™¸ë¶€ API) vs í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ
// í´ë¼ì´ì–¸íŠ¸ ìƒíƒœëŠ” UI ê´€ë ¨ëœ ì¼ì‹œì ì¸ ë°ì´í„°(ì˜ˆ: í¼ ìž…ë ¥ê°’, ë‹¤í¬ëª¨ë“œ, í† ê¸€)ë¥¼ ì˜ë¯¸
// ì„œë²„ ìƒíƒœëŠ” ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë°ì´í„°(ì˜ˆ: API ì‘ë‹µ), ìºì‹±, ë™ê¸°í™”, ìž¬ê²€ì¦(revalidate)

// ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” state : ì§€ì—­ state, props drilling
// ë¶€ë¶„ ì „ì—­, ì „ì—­ìƒíƒœ ê´€ë¦¬ state : useQuery, redux

// ðŸ”¥ useQuery : get R
// ðŸ”¥ useMutation : modify CUD
// ðŸ”¥ invalidateQueries : refresh

// ðŸ”¥ TanStack Query ì£¼ìš”ê°œë… ë³µìŠµ

// - Fetching: ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
// - Caching: ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ìºì‹±í•˜ì—¬, ë™ì¼í•œ ë°ì´í„°ë¥¼ ë°˜ë³µí•´ì„œ ìš”ì²­X
// - Synchronizing: ì„œë²„ì˜ ë°ì´í„°ì™€ ìºì‹œëœ ë°ì´í„°ë¥¼ ë™ê¸°í™”
// - Updating: ì„œë²„ì˜ ë°ì´í„°ë¥¼ ì‰½ê²Œ ì—…ë°ì´íŠ¸í•˜ê³ , ì´ë¥¼ ìºì‹œì— ë°˜ì˜

// ðŸ”¥ stale-while-revalidate(swr) ì „ëžµ
// - ìµœì‹  ë°ì´í„°ê°€ ë„ì°©í•˜ê¸° ì „ê¹Œì§€ ê¸°ì¡´ ìºì‹œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì „ëžµ

// Cache-Control: max-age=1, stale-while-revalidate=59

// ðŸ”¥ ìºì‹œ ë°ì´í„°ëŠ” ì–´ë””ì— ë³´ê´€
// - ìºì‹œ ë°ì´í„°ë¥¼ ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬(QueryClientProvider)

// cache context, cache data
// TanStack Queryê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì´ìš©í•˜ëŠ” Context : ìºì‹œ ì»¨í…ìŠ¤íŠ¸
// ê·¸ ì•ˆì— ì €ìž¥ë˜ì–´ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° : ìºì‹œ ë°ì´í„°

// ì˜ˆì‹œ src > main.jsx

// import ReactDOM from "react-dom/client";
// import App from "./App.jsx";
// import "./index.css";
// import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

// const queryClient = new QueryClient();

// ReactDOM.createRoot(document.getElementById("root")).render(
//   <QueryClientProvider client={queryClient}>
//     <App />
//   </QueryClientProvider>
// );
